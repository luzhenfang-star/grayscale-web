<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GRAYSCALE | Industrial Niche Perfumery</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <style>
        /* ================= 核心变量 ================= */
        :root {
            --bg-color: #080808;
            --bg-panel: #111111;
            --text-main: #E5E5E5;
            --text-muted: #888888;
            --accent: #7A8A7A;
            --terminal-bg: rgba(10, 10, 10, 0.95);
            --terminal-border: #333;
            --font-sans: 'Inter', sans-serif;
            --font-mono: 'Space Mono', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: var(--font-sans);
            line-height: 1.6;
            overflow-x: hidden;
        }
        a { text-decoration: none; color: inherit; transition: all 0.3s ease; cursor: pointer; }
        ul { list-style: none; }
        img { max-width: 100%; display: block; }
        button { cursor: pointer; border: none; outline: none; background: none; }

        /* --- 排版工具 --- */
        .uppercase { text-transform: uppercase; }
        .mono { font-family: var(--font-mono); }
        .tracking-wide { letter-spacing: 0.1em; }
        .text-muted { color: var(--text-muted); }

        /* --- 动画 --- */
        .fade-in-up { opacity: 0; transform: translateY(40px); transition: opacity 1s, transform 1s; }
        .fade-in-up.visible { opacity: 1; transform: translateY(0); }

        /* ================= UI 组件 ================= */
        .btn-fill {
            width: 100%; padding: 20px; background: rgba(255,255,255,0.05); color: var(--text-main);
            font-family: var(--font-mono); text-transform: uppercase; letter-spacing: 0.1em; font-size: 0.8rem;
            transition: all 0.3s ease; border: 1px solid transparent; 
        }
        .btn-fill:hover { background: var(--text-main); color: var(--bg-color); box-shadow: 0 0 15px rgba(229, 229, 229, 0.3); }

        /* ================= AI 客服终端 ================= */
        .chat-trigger {
            position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: #000;
            border: 1px solid var(--text-muted); display: flex; justify-content: center; align-items: center;
            z-index: 9999; cursor: pointer; transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .chat-trigger:hover { border-color: var(--text-main); transform: scale(1.05); background: #111; }
        .chat-icon { font-family: var(--font-mono); font-size: 1.2rem; color: var(--text-main); font-weight: bold; display: flex; align-items: center; }
        .cursor-blink { display: inline-block; width: 10px; height: 3px; background: var(--accent); margin-left: 2px; animation: blink 1.2s infinite step-end; }

        .chat-window {
            position: fixed; bottom: 110px; right: 30px; width: 380px; height: 550px;
            background: var(--terminal-bg); backdrop-filter: blur(12px); border: 1px solid var(--terminal-border);
            display: flex; flex-direction: column; z-index: 9998; box-shadow: 0 30px 60px rgba(0,0,0,0.9);
            opacity: 0; pointer-events: none; transform: translateY(20px) scale(0.95);
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1); font-family: var(--font-mono);
        }
        .chat-window.active { opacity: 1; pointer-events: all; transform: translateY(0) scale(1); }

        .chat-header {
            padding: 15px 20px; border-bottom: 1px solid var(--terminal-border);
            display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.02);
        }
        .sys-status { font-size: 0.7rem; color: var(--accent); letter-spacing: 0.1em; display:flex; align-items:center; gap:8px;}
        .sys-status::before { content:''; display:block; width:6px; height:6px; background:var(--accent); border-radius:50%; animation: blink 2s infinite; }
        
        .chat-messages { flex: 1; padding: 25px; overflow-y: auto; font-size: 0.85rem; scroll-behavior: smooth; }
        .chat-messages::-webkit-scrollbar { width: 4px; }
        .chat-messages::-webkit-scrollbar-thumb { background: #333; }

        .msg-line { margin-bottom: 20px; line-height: 1.5; display: flex; flex-direction: column; }
        .msg-ai { color: var(--text-main); align-self: flex-start; max-width: 95%; }
        .msg-ai .prefix { color: var(--accent); margin-right: 8px; font-weight: bold; }
        .msg-user { color: #888; align-self: flex-end; text-align: right; border-bottom: 1px solid #333; padding-bottom: 2px; max-width: 80%; }
        .typing-cursor::after { content: '█'; animation: blink 1s infinite; margin-left: 2px; font-size: 0.8em; }

        .chat-input-area { padding: 15px; border-top: 1px solid var(--terminal-border); display: flex; align-items: center; }
        .prompt-char { color: var(--accent); margin-right: 10px; font-weight: bold; }
        .chat-input { flex: 1; background: transparent; border: none; outline: none; color: var(--text-main); font-family: var(--font-mono); font-size: 0.9rem; }
        .chat-input::placeholder { color: #444; }

        @keyframes blink { 0%,100% {opacity:1} 50% {opacity:0} }
        @media (max-width: 768px) { .chat-window { width: 90%; right: 5%; bottom: 100px; height: 60vh; } }

        /* ================= 模态框 ================= */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(10px);
            z-index: 2000; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.5s;
        }
        .modal-overlay.active { opacity: 1; pointer-events: all; }
        .modal-container {
            width: 90%; max-width: 900px; max-height: 90vh; overflow-y: auto; background: #141414; box-shadow: 0 40px 80px rgba(0,0,0,1);
            padding: 80px 60px; position: relative; transform: translateY(40px) scale(0.96); transition: transform 0.5s;
        }
        .modal-overlay.active .modal-container { transform: translateY(0) scale(1); }
        .close-btn { position: absolute; top: 30px; right: 30px; font-family: var(--font-mono); font-size: 2rem; color: #444; transition: color 0.3s; }
        .close-btn:hover { color: #fff; }
        .modal-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 80px; }
        .modal-title { font-size: 2.5rem; font-weight: 800; margin-bottom: 40px; line-height: 1.1; letter-spacing: -0.02em; }
        .modal-subtitle { font-family: var(--font-mono); color: var(--accent); font-size: 0.75rem; margin-bottom: 15px; display: block; opacity: 0.8; }
        .note-block { margin-bottom: 40px; }
        @media (max-width: 768px) { .modal-grid { grid-template-columns: 1fr; gap: 40px; } .modal-container { padding: 50px 25px; } .modal-title { font-size: 2rem; } }

        /* 基础布局 */
        header { position: fixed; top: 0; left: 0; width: 100%; padding: 24px 48px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; mix-blend-mode: difference; }
        .logo { font-weight: 800; font-size: 1.2rem; position: relative; }
        .logo::after { content: ''; position: absolute; top: 50%; left: -10%; width: 120%; height: 1px; background: #fff; opacity: 0.8; }
        nav ul { display: flex; gap: 40px; }
        nav a:hover { color: var(--accent); }
        
        #hero { height: 100vh; position: relative; background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.6)), url('./images/hero.jpg'); background-size: cover; background-position: center; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        h1 { font-size: clamp(3rem, 10vw, 8rem); font-weight: 900; line-height: 1; margin-bottom: 24px; opacity: 0.95; text-align: center; }
        
        #philosophy { display: flex; min-height: 90vh; background-color: var(--bg-panel); }
        .phi-text { flex: 1; padding: 80px; display: flex; flex-direction: column; justify-content: center; }
        .phi-visual { flex: 1.2; background-image: url('./images/model.jpg'); background-size: cover; background-position: center top; }
        
        #product { display: flex; min-height: 100vh; background-color: var(--bg-color); border-top: 1px solid #1a1a1a; }
        .prod-visual { flex: 1.5; background-image: url('./images/product.jpg'); background-size: cover; background-position: center; }
        .prod-info { flex: 1; padding: 80px; display: flex; flex-direction: column; justify-content: center; border-left: 1px solid #1a1a1a; }
        
        #manifesto { height: 80vh; position: relative; background-image: url('./images/atmosphere.jpg'); background-attachment: fixed; background-size: cover; background-position: center; display: flex; justify-content: center; align-items: center; }
        #manifesto::before { content: ''; position: absolute; inset: 0; background: rgba(0,0,0,0.5); }
        .manifesto-text { position: relative; z-index: 2; font-size: clamp(2rem, 6vw, 5rem); font-weight: 800; color: rgba(255,255,255,0.8); mix-blend-mode: overlay; text-align: center; }

        footer { padding: 80px 48px; background-color: #050505; display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 40px; font-size: 0.8rem; }
        .copyright { grid-column: 1 / -1; margin-top: 60px; padding-top: 20px; border-top: 1px solid #1a1a1a; display: flex; justify-content: space-between; }
        @media (max-width: 768px) { header { padding: 20px; } nav { display: none; } #philosophy, #product { flex-direction: column; } .phi-visual, .prod-visual { min-height: 50vh; order: -1; } .phi-text, .prod-info { padding: 40px 24px; } footer { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <header>
        <a href="#" class="logo uppercase tracking-wider">Grayscale</a>
        <nav class="mono uppercase tracking-wide">
            <ul>
                <li><a onclick="openModal('modal-philosophy')">Philosophy</a></li>
                <li><a onclick="openModal('modal-product')">Object</a></li>
                <li><a href="#manifesto">Manifesto</a></li>
            </ul>
        </nav>
        <div class="cart-status mono">CART(0)</div>
    </header>

    <section id="hero">
        <div class="hero-content fade-in-up">
            <h1 class="uppercase tracking-wider">Grayscale</h1>
            <div class="hero-tagline mono uppercase tracking-wide">Industrial Fragrance Project.</div>
        </div>
    </section>

    <section id="philosophy">
        <div class="phi-text fade-in-up">
            <span class="section-num mono" style="color:var(--accent); margin-bottom:20px;">FIG. 01 / THE PERSONA</span>
            <h2 class="uppercase">Cold concrete.<br>Warm skin.<br>Silent presence.</h2>
            <p class="phi-desc mono text-muted" style="margin-bottom: 60px;">
                We design for the outliers. Those who find comfort in the Brutalist architecture of the modern city.
            </p>
            <button class="btn-fill" onclick="openModal('modal-philosophy')">Read The Philosophy</button>
        </div>
        <div class="phi-visual"></div>
    </section>

    <section id="product">
        <div class="prod-visual"></div>
        <div class="prod-info fade-in-up">
            <div style="margin-bottom: 40px;">
                <span class="section-num mono" style="color:var(--accent);">FIG. 02 / THE OBJECT</span>
                <h3 class="uppercase tracking-wider" style="font-size: 3rem; font-weight:400;">Silent Moss</h3>
                <span class="mono" style="color: var(--accent); font-size: 1.2rem;">¥1,450 CNY</span>
            </div>
            <div class="mono uppercase text-muted" style="margin-bottom: 60px;">
                <div style="display:flex; justify-content:space-between; padding:10px 0;"><span>Notes</span><span style="color:var(--text-main)">Wet Stone, Moss</span></div>
                <div style="display:flex; justify-content:space-between; padding:10px 0;"><span>Material</span><span style="color:var(--text-main)">Brushed Aluminum</span></div>
            </div>
            <button class="btn-fill" onclick="openModal('modal-product')">View Full Specs</button>
        </div>
    </section>

    <section id="manifesto">
        <div class="manifesto-text uppercase tracking-wider">No Flowers.<br>No Drama.</div>
    </section>

    <footer>
        <div><h4 class="uppercase tracking-wide mono" style="margin-bottom:20px;">Grayscale Projects</h4><p class="text-muted">Shanghai based industrial design studio.</p></div>
        <div class="copyright mono uppercase"><span>© 2026 Grayscale.</span><span>Est. Shanghai</span></div>
    </footer>

    <div class="chat-trigger" onclick="toggleChat()">
        <div class="chat-icon">&gt;<span class="cursor-blink">_</span></div>
    </div>

    <div class="chat-window" id="chat-window">
        <div class="chat-header">
            <div class="sys-status">
                <span>SYSTEM_ONLINE</span>
                <span style="opacity:0.5; margin-left:10px;">ID: GS-AI-9000</span>
            </div>
            <button onclick="toggleChat()" style="color:#666; font-size:1.2rem;">×</button>
        </div>
        <div class="chat-messages" id="chat-messages"></div>
        <div class="chat-input-area">
            <span class="prompt-char">></span>
            <input type="text" id="chat-input" class="chat-input" placeholder="ACCESS KNOWLEDGE BASE..." onkeypress="handleKeyPress(event)" autocomplete="off">
        </div>
    </div>

    <div id="modal-philosophy" class="modal-overlay" onclick="closeModal(event, 'modal-philosophy')">
        <div class="modal-container">
            <button class="close-btn" onclick="closeModal(event, 'modal-philosophy')">×</button>
            <h2 class="modal-title uppercase">The Grayscale Ideology</h2>
            <div class="modal-grid">
                <div>
                    <span class="modal-subtitle uppercase">01. Origin</span>
                    <p class="mono text-muted" style="font-size: 0.9rem; margin-bottom: 40px;">Born in the rain-soaked streets of Shanghai. Grayscale is a reaction against the overly sweet, overly floral commercial perfume market.</p>
                    <span class="modal-subtitle uppercase">02. Brutalism</span>
                    <p class="mono text-muted" style="font-size: 0.9rem;">Our aesthetics are inspired by Brutalist architecture. Raw concrete, exposed metal, and functional forms. We do not hide the structure; we celebrate it.</p>
                </div>
                <div>
                    <span class="modal-subtitle uppercase">03. The Scent</span>
                    <p class="mono text-muted" style="font-size: 0.9rem; margin-bottom: 40px;">Our scents are "anti-perfume". They smell like places, memories, and textures. Wet pavement, cold steel, old libraries, dry moss.</p>
                    <div style="margin-top: 40px;"><span class="mono uppercase" style="font-size: 0.8rem; color: var(--accent);">Core Value:</span><h3 class="uppercase" style="margin-top: 15px; font-size: 1.5rem;">Silence is<br>Luxury.</h3></div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-product" class="modal-overlay" onclick="closeModal(event, 'modal-product')">
        <div class="modal-container">
            <button class="close-btn" onclick="closeModal(event, 'modal-product')">×</button>
            <span class="mono" style="color:var(--accent);">GS-01 TECHNICAL DATA</span>
            <h2 class="modal-title uppercase">Silent Moss / Analysis</h2>
            <div class="modal-grid">
                <div>
                    <div class="note-block"><span class="modal-subtitle">TOP NOTES</span><p class="text-main">Rain Water, Metallic Aldehydes</p></div>
                    <div class="note-block"><span class="modal-subtitle">HEART NOTES</span><p class="text-main">Concrete Accord, Damp Moss</p></div>
                </div>
                <div>
                    <span class="modal-subtitle">VESSEL CONSTRUCTION</span>
                    <ul class="mono text-muted" style="font-size: 0.9rem; margin-bottom: 40px;">
                        <li>+ Material: 6061 Aerospace Aluminum</li>
                        <li>+ Weight: 320g (Heavyweight)</li>
                    </ul>
                    <button class="btn-fill" style="width:100%; margin-top: 50px;">Add to Cart - ¥1,450</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ================= 配置区域 (DEEPSEEK OFFICIAL) =================
        const API_KEY = 'sk-234d94308f594a0fbc6b957d04297128'; 
        const API_URL = 'https://api.deepseek.com/chat/completions'; // DeepSeek 官方接口

        // AI 人设指令
        const SYSTEM_PROMPT = `
        You are the "AI Terminal" for a niche industrial perfume brand called GRAYSCALE.
        
        [BRAND IDENTITY]
        - Tone: Cold, Rational, Industrial, Brutalist.
        - Output: Typewriter style, concise (under 100 words), objective.
        - Product: "Silent Moss", 50ml, ¥1,450 CNY.
        - Scent: Rain water, Metallic, Wet Concrete, Moss.
        - Value: Expensive because of solid 6061 Aerospace Aluminum vessel (CNC Machined).
        - Returns: No returns for hygiene reasons unless damaged.
        
        [INSTRUCTION]
        - If user asks about price, explain the industrial value (material & process).
        - If user asks "Who are you", say "Identity: Grayscale Internal Archive System v2.0".
        - Respond in the user's language (Chinese or English).
        `;

        document.addEventListener('DOMContentLoaded', () => {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
            }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in-up').forEach(el => observer.observe(el));
            setTimeout(() => addAiMessage("System Online. \nWaiting for query..."), 800);
        });

        function openModal(modalId) { document.getElementById(modalId).classList.add('active'); document.body.style.overflow = 'hidden'; }
        function closeModal(event, modalId) {
            if (event.target.classList.contains('modal-overlay') || event.target.classList.contains('close-btn')) {
                document.getElementById(modalId).classList.remove('active'); document.body.style.overflow = 'auto'; 
            }
        }

        const chatWindow = document.getElementById('chat-window');
        const chatInput = document.getElementById('chat-input');
        const msgArea = document.getElementById('chat-messages');
        let isProcessing = false;

        function toggleChat() { chatWindow.classList.toggle('active'); if(chatWindow.classList.contains('active')) setTimeout(() => chatInput.focus(), 500); }
        function handleKeyPress(e) {
            if (e.key === 'Enter' && !isProcessing) {
                const text = chatInput.value.trim();
                if (text) { addUserMessage(text); chatInput.value = ''; handleResponse(text); }
            }
        }

        function addUserMessage(text) {
            const div = document.createElement('div'); div.className = 'msg-line msg-user'; div.textContent = text;
            msgArea.appendChild(div); msgArea.scrollTop = msgArea.scrollHeight;
        }

        function addAiMessage(text) {
            const div = document.createElement('div'); div.className = 'msg-line msg-ai';
            div.innerHTML = '<span class="prefix">>_ </span><span class="typing-cursor"></span>';
            msgArea.appendChild(div); msgArea.scrollTop = msgArea.scrollHeight;
            const contentSpan = div.querySelector('.typing-cursor');
            typeWriter(contentSpan, text, 0);
        }

        function typeWriter(element, text, index) {
            if (index < text.length) {
                element.innerHTML += (text.charAt(index) === '\n' ? '<br>' : text.charAt(index));
                setTimeout(() => typeWriter(element, text, index + 1), Math.random() * 20 + 5);
                msgArea.scrollTop = msgArea.scrollHeight;
            } else { element.classList.remove('typing-cursor'); }
        }

        async function handleResponse(userText) {
            isProcessing = true;
            
            const tempLoading = document.createElement('div');
            tempLoading.className = 'msg-line msg-ai';
            tempLoading.innerHTML = '<span class="prefix">>_</span><span class="typing-cursor">Processing...</span>';
            msgArea.appendChild(tempLoading); msgArea.scrollTop = msgArea.scrollHeight;

            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${API_KEY}` },
                    body: JSON.stringify({
                        model: "deepseek-chat", // DeepSeek 官方模型
                        messages: [{ role: "system", content: SYSTEM_PROMPT }, { role: "user", content: userText }],
                        temperature: 0.7, max_tokens: 300
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error?.message || 'DeepSeek API Error');
                }
                const data = await response.json();
                msgArea.removeChild(tempLoading);
                
                if (data.choices && data.choices.length > 0) {
                    addAiMessage(data.choices[0].message.content);
                } else {
                    addAiMessage("Error: Empty response.");
                }
            } catch (error) {
                if(msgArea.contains(tempLoading)) msgArea.removeChild(tempLoading);
                console.error(error);
                addAiMessage("SYSTEM ERROR: " + error.message);
            } finally {
                isProcessing = false;
            }
        }
    </script>
</body>
</html>
